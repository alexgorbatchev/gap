<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Google Analytics Poller (GAP) - More accurate measurements of your time on site and bounce rate</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Google Analytics Poller (GAP)</h1>
        <p class="header">More accurate measurements of your time on site and bounce rate.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/rockymadden/gap/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/rockymadden/gap/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/rockymadden/gap">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="http:///rockymadden.com">Rocky Madden</a></p>


      </header>
      <section><h2>Overview</h2>
        <p>If you are puzzled as to why so many of your users have a time on site of 0 to 10 seconds, GAP can help you. If you are puzzled as to why your bounce rate is so high, GAP can help you. If you want to accurately test changes to your website and how they truly affect user engagement, GAP can help you. The default implementation of the Google Analytics tracking code has these undesirable traits. The following scenarios help illustrate: </p>

<ul>
<li>User A arrives on your website. She finds a wealth of information she is looking for on the first landing page. She spends 15 minutes reading and then departs. By default, this is considered a bounce.</li>
<li>User B arrives on your website. He finds a wealth of information he is looking for on the first landing page. He spends two hours reading and then departs. By default, the time on site for this user is 0 seconds.</li>
<li>User C arrives on your website. He doesn't find what he is looking for on the first page, so 10 seconds after arriving he lands on the second, and final, page of his visit. He finds a wealth of information, and he spends 30 minutes reading and then departs. By default, the time on site for this user is 10 seconds.</li>
<li>You have redesigned your website hoping to improve user engagement (e.g. increase time on site and lower bounce rate). Because you used the default implementation of the Google Analytics code, your bounce rate is over stated and your time on site is under stated. After the redesign, you see positive numbers on both these fronts. Bounce rate is down and time on site is up. Both these data points are not only incorrect, but the opposite could be true. Your time on site could, in actuality, be lower than before. Your bounce rate could, in actuality, be higher than before.</li>
<li>More information on this subject, <a href="http://analytics.blogspot.com/2012/07/tracking-adjusted-bounce-rate-in-google.html">straight from Google</a>.</li>
</ul><p>The Google Analytics Poller provides a simple solution to remedy these issues. It thinly wraps the Google Analytics <code>_gaq</code> API and adds reoccurring event polling. These "read" events are captured every n seconds, where n is the number of seconds you specify.</p>

<h2>Usage</h2>

<p>There is no need to include any of the default Google Analytics tracking code, as GAP takes care of all this for you. Simply <a href="https://raw.github.com/rockymadden/gap/master/gap.js">download the gap.js</a> file, place on your server, and update the noted fields below. That's it!</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">_gap</span> <span class="o">=</span> <span class="nx">_gap</span> <span class="o">||</span> <span class="p">[];</span>
<span class="nx">_gap</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s2">"_setAccount"</span><span class="p">,</span> <span class="s2">"UA-XXXXXX-X"</span><span class="p">]);</span> <span class="c1">// CHANGE.</span>
<span class="nx">_gap</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s2">"_trackPageview"</span><span class="p">]);</span>
<span class="nx">_gap</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s2">"_gapTrackRead"</span><span class="p">,</span> <span class="mi">10</span><span class="p">]);</span> <span class="c1">// POLLING CADIENCE, CHANGE IF DESIRED.</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">gap</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span>
    <span class="nx">gap</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">gap</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">"text/javascript"</span><span class="p">;</span>
    <span class="nx">gap</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">"/js/gap.js"</span><span class="p">;</span> <span class="c1">// CHANGE.</span>

    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"script"</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">gap</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
<span class="p">})();</span>
</pre></div>

<h2>Versioning</h2>

<p><a href="http://semver.org/">Semantic Versioning v2.0</a></p>

<h2>License</h2>

<p><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License v2.0</a></p>
      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-20432336-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
